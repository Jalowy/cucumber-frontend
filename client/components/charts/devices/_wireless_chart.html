<md-card>
  <md-card-header class="graph-small">
    <md-card-header-text>
      <span class="md-subhead">
        {{ fn | titleCase }} {{ title }}
      </span>
    </md-card-header-text>
    <md-button class="md-icon-button" ng-click="refresh()">
      <md-icon>refresh</md-icon>
    </md-button>
    <md-menu-bar style="padding: 0">
      <md-menu>
        <button ng-click="$mdOpenMenu()">
          <md-icon>more_vert</md-icon>
        </button>
        <md-menu-content width="3">
          <md-menu-item>
            <md-button ng-click="changeType()">
              Splash Sessions
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeType('uniques')">
              Splash Users
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeType('impressions')">
              Splash Views
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeType('usage')">
              Usage Data
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeType('clients')">
              Wireless Clients
            </md-button>
          </md-menu-item>
          <md-menu-divider></md-menu-divider>
          <md-menu-item>
            <md-button ng-click="changeFn('mean')">
              Average Values
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeFn('max')">
              Max. Values
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeFn('median')">
              Median Values
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="changeFn('sum')" ng-disabled="type == 'tx'">
              Sum
            </md-button>
          </md-menu-item>
        </md-menu-content>
      </md-menu>
    </md-menu-bar>
  </md-card-header>
  <md-card-content>
    <div id="location-chart"></div>
    <div>
      <div layout="row" ng-if="noData || loading" style="min-height: 250px;" layout-align="left end" class="muted">
        <p><small><span ng-if="noData">No graph data</span><span ng-if="loading">Loading graph data</span></small></p>
      </div>
      <md-progress-linear ng-if="loading" md-mode="query"></md-progress-linear>
    </div>
  </md-card-content>
</md-card>
